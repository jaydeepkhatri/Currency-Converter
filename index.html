<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title> Currency Converter </title>
	<link rel="stylesheet" href="./style.css">
</head>

<body>
	<h2 class="title">Currency Converter <span id="datenow"></span></h2>
	<div class="container">
		<div class="currency">
			<input type="number" id="currencyvalue" class="currencyvalue" value="100" />
			<select id="maincurrency">
				<option value="ARS"> Argentine peso </option>
				<option value="AUD"> Australain dollar </option>
				<option value="BSD"> Bahamian dollar </option>
				<option value="BRL"> Brazilian real </option>
				<option value="GBP"> British pound </option>
				<option value="BGN"> Bulgarian lev </option>
				<option value="CAD"> Canadian dollar </option>
				<option value="CLP"> Chilean peso </option>
				<option value="CNY"> Chinese Yuan </option>
				<option value="COP"> Colombian peso </option>
				<option value="CZK"> Czech koruna </option>
				<option value="DKK"> Danish krone </option>
				<option value="DOP"> Dominican peso </option>
				<option value="EGP"> Egyptian pound </option>
				<option value="EUR"> Euro </option>
				<option value="FJD"> Falkland Islands pound </option>
				<option value="GTQ"> Guatemalan quetzal </option>
				<option value="HKD"> Hong Kong dollar </option>
				<option value="HRK"> Croatian kuna</option>
				<option value="HUF"> Hungarian forint </option>
				<option value="ISK"> Icelandic króna </option>
				<option value="IDR"> Indonesian rupiah </option>
				<option value="INR" selected> Indian rupee </option>
				<option value="ILS"> Israeli new shekel </option>
				<option value="JPY"> Japanese Yen </option>
				<option value="KZT"> Kazakhstani tenge </option>
				<option value="MYR"> Malayasian ringgit</option>
				<option value="MVR"> Maldivian rufiyaa </option>
				<option value="MXN"> Mexican peso </option>
				<option value="NOK"> Norwegian krone </option>
				<option value="TWD"> New Taiwan dollar </option>
				<option value="NZD"> New Zealand dollar </option>
				<option value="PKR"> Pakistani rupee </option>
				<option value="PAB"> Panamanian balboa </option>
				<option value="PYG"> Paraguayan guaraní </option>
				<option value="PEN"> Peruvian sol </option>
				<option value="PHP"> Philippine Peso </option>
				<option value="PLN"> Polish złoty </option>
				<option value="RON"> Romanian leu </option>
				<option value="RUB"> Russian ruble </option>
				<option value="SAR"> Saudi riyal </option>
				<option value="SGD"> Singapore dollar </option>
				<option value="ZAR"> South African rand </option>
				<option value="KRW"> South Korea won </option>
				<option value="SEK"> Swedish krona </option>
				<option value="CHF"> Swiss franc </option>
				<option value="THB"> Thai Baht </option>
				<option value="TRY"> Turkish lira </option>
				<option value="AED"> UAE dirham </option>
				<option value="UAH"> Ukrainian hryvnia </option>
				<option value="USD"> US dollar </option>
				<option value="UYU"> Uruguayan peso </option>
			</select>
		</div>
		<div class="othercurrencys" id="othercurrencys">

		</div>
	</div>


	<script defer>
		const url = "https://api.exchangerate-api.com/v4/latest/";
		const currencyvalueEl = document.querySelector("#currencyvalue");
		let currencyvalue = currencyvalueEl.value;
		const maincurrencyEl = document.querySelector("#maincurrency");
		let maincurrency = maincurrencyEl.value;

		const datenowEl = document.querySelector("#datenow");
		const othercurrencys = document.querySelector("#othercurrencys");
		let rates = "";
		// console.log(currencyvalue);

		const currencynames = {
			ARS: "Argentine peso",
			AUD: "Australain dollar",
			BSD: "Bahamian dollar",
			BRL: "Brazilian real ",
			GBP: "British pound ",
			BGN: "Bulgarian lev",
			CAD: "Canadian dollar",
			CLP: "Chilean peso",
			CNY: "Chinese yuan",
			COP: "Colombian peso",
			CZK: "Czech koruna",
			DKK: "Danish krone",
			DOP: "Dominican peso",
			EGP: "Egyptian pound",
			EUR: "euro",
			FJD: "Falkland Islands pound",
			GTQ: "Guatemalan quetzal",
			HKD: "Hong Kong dollar",
			HRK: "Croatian kuna",
			HUF: "Hungarian forint",
			ISK: "Icelandic króna",
			IDR: "Indonesian rupiah",
			INR: "Indian rupee",
			ILS: "Israeli new shekel",
			JPY: "Japanese yen",
			KZT: "Kazakhstani tenge",
			MYR: "Malayasian ringgi",
			MVR: "Maldivian rufiyaa",
			MXN: "Mexican peso",
			NOK: "Norwegian krone",
			TWD: "New Taiwan dollar",
			NZD: "New Zealand dollar",
			PKR: "Pakistani rupee",
			PAB: "Panamanian balboa",
			PYG: "Paraguayan guaraní",
			PEN: "Peruvian sol",
			PHP: "Philippine peso",
			PLN: "Polish złoty",
			RON: "Romanian leu",
			RUB: "Russian ruble",
			SAR: "Saudi riyal",
			SGD: "Singapore dollar",
			ZAR: "South African rand",
			KRW: "South Korea won",
			SEK: "Swedish krona",
			CHF: "Swiss franc",
			THB: "Thai baht",
			TRY: "Turkish lira",
			AED: "UAE dirham",
			UAH: "Ukrainian hryvnia",
			USD: "US dollar",
			UYU: "Uruguayan peso"
		}

		async function cal() {
			await fetch(`${url}${maincurrency}`)
				.then(response => {
					return response.json();
				})
				.then(data => {
					rates = data.rates;
					datenowEl.innerHTML = `(${data.date})`;
					consolefname(rates);
				})
		}

		maincurrencyEl.addEventListener("change", () => {
			maincurrency = maincurrencyEl.value;
			cal();
		})
		currencyvalueEl.addEventListener("input", () => {
			currencyvalue = currencyvalueEl.value;
			cal();
		})

		function consolefname(rates) {
			othercurrencys.innerHTML = "";
			console.log(rates)
			Object.keys(rates).forEach((key) => {
				// console.log(`${currencynames[key]} : ${rates[key]}`);
				let eachcurrency = document.createElement("div");
				eachcurrency.classList = "scurrency";
				eachcurrency.innerHTML = `${currencynames[key]} : ${(rates[key] * currencyvalue).toFixed(2)}`;
				othercurrencys.append(eachcurrency);
			});
		}

		cal();
	</script>
</body>

</html>